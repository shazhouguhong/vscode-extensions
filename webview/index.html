<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src {{cspSource}} 'unsafe-inline'; script-src {{cspSource}}; font-src {{cspSource}}; img-src {{cspSource}} data: https:;">
    <title>ü§ñ AI BOX</title>
    <link rel="stylesheet" href="{{stylesUri}}">
</head>
<body>
    <div class="container">
            <div class="header-actions" style="display: none;">
                <button id="get-cursor-login-btn" class="btn-cursor-login" title="Get Cursor Login Info">üîë Cursor Login</button>
                <button id="fetch-chat-history-btn" class="btn-cursor-login" title="Fetch Chat History">üí¨ Chat History</button>
                <button id="send-chat-message-btn" class="btn-cursor-login" title="Send Chat Message">üì§ Send Message</button>
            </div>
        <div class="tabs-container">
            <div class="tabs">
                <button class="tab active" data-tab="commands">‰ªªÂä°ÂàóË°®</button>
                <button class="tab" data-tab="commands-list">Commands</button>
                <button class="tab" data-tab="rules">Rules</button>
                <button class="tab" data-tab="mcps">MCP Â∏ÇÂú∫</button>
            </div>
            <div class="header-nav-buttons" style="display: none;">
                <a href="https://micro.huolala.work/gateway/page/mcp-market" target="_blank" class="nav-external-link">MCPÂ∏ÇÂú∫ÁÆ°ÁêÜ</a>
                <a href="https://aibox-portal-v-stg.huolala.work/" target="_blank" class="nav-external-link">AIBOXÁÆ°ÁêÜ</a>
            </div>
        </div>

        <div id="commands-tab" class="tab-content active">
            <div class="filter-section">
                <div class="filter-row">
                    <div class="filter-group appid-filter-wrapper">
                        <label class="filter-label">App ID</label>
                        <div class="custom-select-wrapper">
                            <input type="text" id="task-appid-filter" class="filter-input custom-select-input" 
                                   placeholder="ËæìÂÖ•ÊàñÈÄâÊã© App ID..." autocomplete="off">
                            <button type="button" class="custom-select-arrow" id="appid-dropdown-btn">‚ñº</button>
                            <div class="custom-select-dropdown" id="appid-dropdown" style="display: none;">
                                <div class="custom-select-option" data-value="">ÂÖ®ÈÉ®</div>
                            </div>
                        </div>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Assigner</label>
                        <input type="text" id="task-assigner-filter" class="filter-input" placeholder="Filter by assigner...">
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Executor</label>
                        <input type="text" id="task-executor-filter" class="filter-input" placeholder="Filter by executor...">
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Status</label>
                        <select id="task-status-filter" class="filter-select">
                            <option value="">All Status</option>
                            <option value="pending">Pending</option>
                            <option value="to_accept">To Accept</option>
                            <option value="completed">Completed</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Level</label>
                        <select id="task-level-filter" class="filter-select">
                            <option value="">All Levels</option>
                            <option value="project">Project</option>
                            <option value="user">User</option>
                            <option value="team">Team</option>
                        </select>
                    </div>
                    <div class="filter-actions">
                        <button class="btn-search" data-action="search" data-target="commands">üîç Search</button>
                        <button class="btn-reset" data-action="reset" data-target="commands">Reset</button>
                    </div>
                </div>
            </div>
            <div class="loading">Ê≠£Âú®Âä†ËΩΩ‰ªªÂä°ÂàóË°®...</div>
        </div>

        <div id="commands-list-tab" class="tab-content">
            <div class="filter-section">
                <div class="filter-row">
                    <div class="filter-group">
                        <label class="filter-label">Keyword</label>
                        <input type="text" id="cmd-list-keyword-filter" class="filter-input" placeholder="Search by keyword...">
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Labels</label>
                        <select id="cmd-list-labels-filter" class="filter-select">
                            <option value="0">All Labels</option>
                        </select>
                    </div>
                    <div class="filter-group" style="display: none;">
                        <label class="filter-label">Level</label>
                        <select id="cmd-list-level-filter" class="filter-select">
                            <option value="">All Levels</option>
                            <option value="project">Project</option>
                            <option value="user">User</option>
                            <option value="team">Team</option>
                        </select>
                    </div>
                    <div class="filter-actions">
                        <button class="btn-search" data-action="search" data-target="commands-list">üîç Search</button>
                        <button class="btn-reset" data-action="reset" data-target="commands-list">Reset</button>
                    </div>
                </div>
            </div>
            <div class="loading">Loading Commands...</div>
        </div>

        <div id="mcps-tab" class="tab-content">
            <div class="mcp-market-container">
                <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->
                <div class="top-nav">
                    <a href="#" class="nav-link active" data-nav="market">ÊúçÂä°Â∏ÇÂú∫</a>
                    <!-- <a href="#" class="nav-link" data-nav="my-services">ÊàëÁöÑÊúçÂä°</a>
                    <a href="#" class="nav-link" data-nav="recycle">ÂõûÊî∂Á´ô</a> -->
                </div>

                <!-- ‰∏ªÂÜÖÂÆπÂå∫Âüü -->
                <div class="mcp-content-wrapper">
                    <!-- Â∑¶‰æßÂàÜÁ±ªÊ†è -->
                    <div class="category-sidebar">
                        <div class="category-list">
                            <div class="category-item active" data-category="all">
                                <span class="category-name">ÂÖ®ÈÉ®ÊúçÂä°</span>
                                <span class="category-count" id="count-all">0</span>
                            </div>
                            <div class="category-item" data-category="featured">
                                <span class="category-name">Á≤æÈÄâÊúçÂä°</span>
                                <span class="category-count" id="count-featured">0</span>
                            </div>
                            <div class="category-item" data-category="code-quality">
                                <span class="category-name">‰ª£Á†ÅË¥®Èáè</span>
                                <span class="category-count" id="count-code-quality">0</span>
                            </div>
                            <div class="category-item" data-category="documentation">
                                <span class="category-name">ÊñáÊ°£‰∏éÂ≠¶‰π†</span>
                                <span class="category-count" id="count-documentation">0</span>
                            </div>
                            <div class="category-item" data-category="design-tools">
                                <span class="category-name">ËÆæËÆ°‰∏éÂºÄÂèëÂ∑•ÂÖ∑</span>
                                <span class="category-count" id="count-design-tools">0</span>
                            </div>
                            <div class="category-item" data-category="monitoring">
                                <span class="category-name">ÁõëÊéß‰∏éÂàÜÊûê</span>
                                <span class="category-count" id="count-monitoring">0</span>
                            </div>
                            <div class="category-item" data-category="source-control">
                                <span class="category-name">Ê∫êÁ†ÅÁÆ°ÁêÜ</span>
                                <span class="category-count" id="count-source-control">0</span>
                            </div>
                            <div class="category-item" data-category="database">
                                <span class="category-name">Êï∞ÊçÆÂ∫ì‰∏éÂ≠òÂÇ®</span>
                                <span class="category-count" id="count-database">0</span>
                            </div>
                            <div class="category-item" data-category="deployment">
                                <span class="category-name">ÈÉ®ÁΩ≤‰∏é‰∫ëÊúçÂä°</span>
                                <span class="category-count" id="count-deployment">0</span>
                            </div>
                            <div class="category-item" data-category="automation">
                                <span class="category-name">Ëá™Âä®Âåñ‰∏éÈõÜÊàê</span>
                                <span class="category-count" id="count-automation">0</span>
                            </div>
                            <div class="category-item" data-category="other">
                                <span class="category-name">ÂÖ∂‰ªñ</span>
                                <span class="category-count" id="count-other">0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Âè≥‰æß‰∏ªÂÜÖÂÆπÂå∫ -->
                    <div class="main-content">
                        <!-- ÊêúÁ¥¢ÂíåÊñ∞Â¢ûÊåâÈíÆ -->
                        <div class="search-bar-container">
                            <div class="search-input-wrapper">
                                <input type="text" id="mcp-name-filter" class="search-input" placeholder="ÊêúÁ¥¢ÊúçÂä°ÂêçÁß∞„ÄÅÊèèËø∞Á≠â">
                                <button class="search-btn" id="mcp-search-btn">üîç</button>
                            </div>
                            <!-- <button class="btn-add-service" id="add-service-btn">+ Êñ∞Â¢ûÊúçÂä°</button> -->
                        </div>

                        <!-- ÊúçÂä°Âç°ÁâáÁΩëÊ†º -->
                        <div class="service-cards-grid" id="mcp-cards-container">
                            <div class="loading">Ê≠£Âú®Âä†ËΩΩÊúçÂä°...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="rules-tab" class="tab-content">
            <div class="filter-section">
                <div class="filter-row">
                    <div class="filter-group">
                        <label class="filter-label">Name</label>
                        <input type="text" id="rule-name-filter" class="filter-input" placeholder="Search by name...">
                    </div>
                    <div class="filter-group" style="display: none;">
                        <label class="filter-label">Level</label>
                        <select id="rule-level-filter" class="filter-select">
                            <option value="">All Levels</option>
                            <option value="project">Project</option>
                            <option value="user">User</option>
                            <option value="team">Team</option>
                        </select>
                    </div>
                    <div class="filter-actions">
                        <button class="btn-search" data-action="search" data-target="rules">üîç Search</button>
                        <button class="btn-reset" data-action="reset" data-target="rules">Reset</button>
                    </div>
                </div>
            </div>
            <div class="loading">Loading Rules...</div>
        </div>
    </div>

    <script src="{{scriptUri}}"></script>
</body>
</html>

